<!DOCTYPE html>
<html>
<head>
<style>
    table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
</style>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>


<p><h1>Banks:</h1></p>
<div id="bankData">

</div>
<script>
    function addHeaders(table, keys){
        var row = table.insertRow();
        for (var i = 0; i < keys.length; ++i){
            var cell = row.insertCell();
            cell.appendChild(document.createTextNode(keys[i]))
        }
    }
    function displayData(data){
        //console.log(data.banks)
        var table = document.createElement('table')
        for (var i = 0; i < data.banks.length; ++i){
            var bank = data.banks[i]
            console.log(bank)
            if (i===0){
                addHeaders(table, Object.keys(bank))
            }
            var row = table.insertRow()
            Object.keys(bank).forEach(function(k){
                console.log(k)
                var cell = row.insertCell()
                cell.appendChild(document.createTextNode(bank[k]))
            })
        }
        table.style.border = 1
        document.getElementById('bankData').appendChild(table)
    }

    fetch('/api/get_banks')
    .then(function (response){
        console.log(response)
        return response.json()
    })
    .then(function (data){
        displayData (data)
        //console.log(data)
    })
    .catch(function (error){
        console.log("Error " + error)
    })
</script>

</body>
</html> 